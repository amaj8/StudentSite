{% extends 'list/base_template.html' %}
{% load set_var %}
{% block title %}
    Student Database
{% endblock %}
{% block body %}
    {%if all_students%}
        <div class="container-fluid-md-offset-2" style="margin-left:10px">
            <h4>Click on the icons next to the table headers to sort according to the attribute</h4>
        </div>
        <div class="container-fluid col-md-offset-1">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th> Enrollment Number
                            <a href="?order_by=roll_num">
                                <span class="glyphicon glyphicon-chevron-up"></span>
                            </a>
                            <a href="?order_by=-roll_num">
                                <span class="glyphicon glyphicon-chevron-down"></span>
                            </a>

                        </th>
                        <th> Name
                            <a href="?order_by=name">
                                <span class="glyphicon glyphicon-chevron-up"></span>
                            </a>
                            <a href="?order_by=-name">
                                <span class="glyphicon glyphicon-chevron-down"></span>
                            </a>

                        </th>
                        <th>Aggregate
                            <a href="?order_by=aggregate">
                                <span class="glyphicon glyphicon-chevron-up"></span>
                            </a>
                            <a href="?order_by=-aggregate">
                                <span class="glyphicon glyphicon-chevron-down"></span>
                            </a>

                        </th>
                    </tr>
                </thead>
                <tbody>

                    {% for stud in all_students %}
                        {% if stud.aggregate <= 30 %}
                            {% set tr_class = "danger" %}
                        {% elif stud.aggregate <= 60 %}
                            {% set tr_class = "warning" %}
                        {% elif stud.aggregate <= 100 %}
                            {% set tr_class = "success" %}
                        {% endif %}
                        <tr class={{tr_class}}>
                        <td>{{stud.roll_num}}</td>
                        <td>{{stud.name}}</td>
                        <td>{{stud.aggregate}}</td>
                        </tr>

                    {% endfor %}
                </tbody>
            </table>
        </div>


    {%else%}
        <h3>Sorry no records to display</h3>
    {%endif%}
{% endblock %}